CREATE TABLE SystemEvents (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  CustomerID INT,
  ReceivedAt datetime DEFAULT NULL,
  DeviceReportedTime datetime DEFAULT NULL,
  Facility INT DEFAULT NULL,
  Priority INT DEFAULT NULL,
  FromHost varchar(60) DEFAULT NULL,
  Message LONGVARCHAR,
  NTSeverity int DEFAULT NULL,
  Importance int DEFAULT NULL,
  EventSource varchar(60) DEFAULT NULL,
  EventUser varchar(60) DEFAULT NULL,
  EventCategory int DEFAULT NULL,
  EventID int DEFAULT NULL,
  EventBinaryData LONGVARCHAR,
  MaxAvailable int DEFAULT NULL,
  CurrUsage int DEFAULT NULL,
  MinUsage int DEFAULT NULL,
  MaxUsage int DEFAULT NULL,
  InfoUnitID int DEFAULT NULL,
  SysLogTag varchar(60) DEFAULT NULL,
  EventLogType varchar(60) DEFAULT NULL,
  GenericFileName varchar(60) DEFAULT NULL,
  SystemID int DEFAULT NULL
);

CREATE TABLE SystemEventsProperties (
  ID IDENTITY,
  SystemEventID int DEFAULT NULL,
  ParamName varchar(255) DEFAULT NULL,
  ParamValue LONGVARCHAR
);

CREATE TABLE CDR (
  ID IDENTITY,
  CALL_LEG_TYPE INT,
  CONNECTION_ID VARCHAR(256) NOT NULL,
  SETUP_TIME TIMESTAMP NOT NULL,
  PEER_ADDRESS VARCHAR(256),
  PEER_SUB_ADDRESS VARCHAR(256),
  DISCONNECT_CAUSE VARCHAR(32),
  DISCONNECT_TEXT VARCHAR(256),
  CONNECT_TIME TIMESTAMP,
  DISCONNECT_TIME TIMESTAMP,
  CALL_ORIGIN VARCHAR(256),
  CHARGED_UNITS VARCHAR(256),
  INFO_TYPE VARCHAR(256),
  TRANSMIT_PACKETS BIGINT,
  TRANSMIT_BYTES BIGINT,
  RECEIVED_PACKETS BIGINT,
  RECEIVED_BYTES BIGINT,
  ORIGINAL_RECORD VARCHAR(1024)
);

CREATE TABLE CDR_VSA (
  ID IDENTITY,
  FEATURE_ID int NOT NULL,
  LEG_ID VARCHAR(128),
  CONNECTION_ID VARCHAR(256) NOT NULL,
  FEATURE_NAME VARCHAR(128),
  FWD_FROM_NUMBER VARCHAR(128),
  STATUS VARCHAR(128),
  FEATURE_TIME TIMESTAMP,
  FWD_REASON VARCHAR(256),
  FWD_NUMBER VARCHAR(128),
  FWD_SRC_NUMBER VARCHAR(128),
  FWD_TO_NUMBER VARCHAR(128),
  CALLED_NUMBER VARCHAR(128),
  CALLING_NUMBER VARCHAR(128),
  ORIGINAL_RECORD VARCHAR(1024)
);

CREATE TABLE HUNTGROUP (
  PILOT_NUMBER int,
  HUNTGROUP_ID int
);

CREATE TABLE HUNTGROUP_SUMMARY (
	ID IDENTITY,
	HUNTGROUP_ID  int NOT NULL ,
	SUMMARY_TIME datetime DEFAULT NULL,
  AGENT_COUNT_MAX INT,
  AGENT_COUNT_MIN INT,
  CALL_COUNT INT,
  ANSWERED_COUNT INT,
  ABANDONED_COUNT INT,
  AVG_TIME_TO_ANSWER INT,
  LONGEST_TIME_TO_ANSWER INT,
  AVG_TIME_IN_CALL INT,
  LONGEST_TIME_IN_CALL INT,
  AVG_TIME_BEFORE_ABANDONMENT INT,
  CALLS_ON_HOLD INT,
  AVG_TIME_ON_HOLD INT,
  LONGEST_TIME_ON_HOLD INT
);

CREATE TABLE AGENT (
  AGENT_ID int NOT NULL
);

CREATE TABLE AGENT_SUMMARY (
  ID IDENTITY,
  AGENT_ID int NOT NULL,
  HUNTGROUP_ID int NOT NULL,
  SUMMARY_TIME datetime NOT NULL,
  DIRECT_CALLS_ANSWERED int,
  DIRECT_AVG_TIME_IN_CALL int,
  DIRECT_LONGEST_TIME_IN_CALL int,
  DIRECT_TOTAL_CALLS_ON_HOLD int,
  DIRECT_AVG_HOLD_TIME int,
  DIRECT_LONGEST_HOLD_TIME int,
  QUEUE_CALLS_ANSWERED int,
  QUEUE_AVG_TIME_IN_CALL int,
  QUEUE_LONGEST_TIME_IN_CALL int,
  QUEUE_TOTAL_CALLS_ON_HOLD int,
  QUEUE_AVG_HOLD_TIME int,
  QUEUE_LONGEST_HOLD_TIME int
);

CREATE TABLE QUEUE_SUMMARY (
  ID IDENTITY,
  HUNTGROUP_ID int NOT NULL,
  SUMMARY_TIME datetime NOT NULL,
  PRESENTED_CALLS int DEFAULT NULL,
  ANSWERED_CALLS int DEFAULT NULL,
  CALLS_IN_QUEUE int DEFAULT NULL,
  AVG_TIME_TO_ANSWER int DEFAULT NULL,
  LONGEST_TIME_TO_ANSWER int DEFAULT NULL,
  ABANDONED_CALLS int DEFAULT NULL,
  AVG_TIME_BEFORE_ABANDONMENT int DEFAULT NULL,
  CALLS_FWD_TO_VOICEMAIL int DEFAULT NULL,
  CALLS_ANSWERED_BY_VOICEMAIL int DEFAULT NULL
);


